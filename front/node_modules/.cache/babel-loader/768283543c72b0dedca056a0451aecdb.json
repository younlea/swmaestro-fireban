{"ast":null,"code":"import React from\"react\";import ReactDOM from\"react-dom\";import\"./index.css\";import App from\"./App\";import*as serviceWorker from\"./serviceWorker\";import createSagaMiddleware from\"redux-saga\";import authMiddleware from\"./lib/authMiddleware\";import{createStore,applyMiddleware}from\"redux\";import{Provider}from\"react-redux\";import rootReducer,{rootSaga}from\"./store/modules\";import{composeWithDevTools}from\"redux-devtools-extension\";import{BrowserRouter}from\"react-router-dom\";import{ACCESS_TOKEN}from\"./lib/config\";import{getUser}from\"./store/modules/user\";var sagaMiddleware=createSagaMiddleware();var store=createStore(rootReducer,window.__PRELOADED_STATE__,composeWithDevTools(applyMiddleware(sagaMiddleware,authMiddleware))// composeWithDevTools(applyMiddleware(sagaMiddleware))\n);function loadUser(){try{// const user = store.getState().user.user;\n// console.log(user);\nvar user=JSON.parse(localStorage.getItem(\"user\"));var token=localStorage.getItem(ACCESS_TOKEN);if(!token&&!user)return;if(token){store.dispatch(getUser());}}catch(e){console.log(e);}}sagaMiddleware.run(rootSaga);loadUser();ReactDOM.render(/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(Provider,{store:store},/*#__PURE__*/React.createElement(App,null))),document.getElementById(\"root\"));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","map":{"version":3,"sources":["/home/webmaster/front/src/index.js"],"names":["React","ReactDOM","App","serviceWorker","createSagaMiddleware","authMiddleware","createStore","applyMiddleware","Provider","rootReducer","rootSaga","composeWithDevTools","BrowserRouter","ACCESS_TOKEN","getUser","sagaMiddleware","store","window","__PRELOADED_STATE__","loadUser","user","JSON","parse","localStorage","getItem","token","dispatch","e","console","log","run","render","document","getElementById","unregister"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAO,GAAKC,CAAAA,aAAZ,KAA+B,iBAA/B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,YAAjC,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,CACA,OAASC,WAAT,CAAsBC,eAAtB,KAA6C,OAA7C,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,WAAP,EAAsBC,QAAtB,KAAsC,iBAAtC,CACA,OAASC,mBAAT,KAAoC,0BAApC,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,OAASC,YAAT,KAA6B,cAA7B,CACA,OAASC,OAAT,KAAwB,sBAAxB,CAEA,GAAMC,CAAAA,cAAc,CAAGX,oBAAoB,EAA3C,CACA,GAAMY,CAAAA,KAAK,CAAGV,WAAW,CACvBG,WADuB,CAEvBQ,MAAM,CAACC,mBAFgB,CAGvBP,mBAAmB,CAACJ,eAAe,CAACQ,cAAD,CAAiBV,cAAjB,CAAhB,CACnB;AAJuB,CAAzB,CAOA,QAASc,CAAAA,QAAT,EAAoB,CAClB,GAAI,CACF;AACA;AACA,GAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CACA,GAAMC,CAAAA,KAAK,CAAGF,YAAY,CAACC,OAAb,CAAqBX,YAArB,CAAd,CACA,GAAI,CAACY,KAAD,EAAU,CAACL,IAAf,CAAqB,OACrB,GAAIK,KAAJ,CAAW,CACTT,KAAK,CAACU,QAAN,CAAeZ,OAAO,EAAtB,EACD,CACF,CAAC,MAAOa,CAAP,CAAU,CACVC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACD,CACF,CAEDZ,cAAc,CAACe,GAAf,CAAmBpB,QAAnB,EACAS,QAAQ,GACRlB,QAAQ,CAAC8B,MAAT,cACE,oBAAC,aAAD,mBACE,oBAAC,QAAD,EAAU,KAAK,CAAEf,KAAjB,eACE,oBAAC,GAAD,MADF,CADF,CADF,CAMEgB,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CANF,EASA;AACA;AACA;AACA9B,aAAa,CAAC+B,UAAd","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport createSagaMiddleware from \"redux-saga\";\nimport authMiddleware from \"./lib/authMiddleware\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport rootReducer, { rootSaga } from \"./store/modules\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { ACCESS_TOKEN } from \"./lib/config\";\nimport { getUser } from \"./store/modules/user\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n  rootReducer,\n  window.__PRELOADED_STATE__,\n  composeWithDevTools(applyMiddleware(sagaMiddleware, authMiddleware))\n  // composeWithDevTools(applyMiddleware(sagaMiddleware))\n);\n\nfunction loadUser() {\n  try {\n    // const user = store.getState().user.user;\n    // console.log(user);\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const token = localStorage.getItem(ACCESS_TOKEN);\n    if (!token && !user) return;\n    if (token) {\n      store.dispatch(getUser());\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nsagaMiddleware.run(rootSaga);\nloadUser();\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}