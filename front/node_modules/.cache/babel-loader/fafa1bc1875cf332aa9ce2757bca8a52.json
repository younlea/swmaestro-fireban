{"ast":null,"code":"import _slicedToArray from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{ACCESS_TOKEN,REFRESH_TOKEN}from\"../lib/config\";import{chagneSidebar,closeSidebar}from\"../store/modules/sidebar\";import Sidebar from\"../components/Sidebar/Sidebar\";function SidebarContainer(){var dispatch=useDispatch();var history=useHistory();var isClose=useSelector(function(state){return state.sidebar.isClose;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var userData=useSelector(function(state){return state.user.user;});// const userInfo = useSelector(state => state.user.user);\nuseEffect(function(){if(JSON.parse(localStorage.getItem(\"user\"))){setUserInfo(JSON.parse(localStorage.getItem(\"user\")));}else if(!JSON.parse(localStorage.getItem(\"user\"))&&userData){setUserInfo(userData);}else{}},[userData]);var handleDrawerToggle=function handleDrawerToggle(){dispatch(chagneSidebar());};var onNavClick=function onNavClick(e){dispatch(closeSidebar());// dispatch()\n};var onLogout=function onLogout(e){try{localStorage.removeItem(ACCESS_TOKEN);localStorage.removeItem(REFRESH_TOKEN);localStorage.removeItem(\"user\");history.push(\"/auth/login\");}catch(e){}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Sidebar,{userInfo:userInfo,handleDrawerToggle:handleDrawerToggle,open:isClose,color:\"red\",onLogout:onLogout,onNavClick:onNavClick}));}export default SidebarContainer;","map":{"version":3,"sources":["/home/webmaster/front/src/containers/SidebarContainer.js"],"names":["React","useState","useEffect","useDispatch","useSelector","useHistory","ACCESS_TOKEN","REFRESH_TOKEN","chagneSidebar","closeSidebar","Sidebar","SidebarContainer","dispatch","history","isClose","state","sidebar","userInfo","setUserInfo","userData","user","JSON","parse","localStorage","getItem","handleDrawerToggle","onNavClick","e","onLogout","removeItem","push"],"mappings":"4IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,YAAT,CAAuBC,aAAvB,KAA4C,eAA5C,CACA,OAASC,aAAT,CAAwBC,YAAxB,KAA4C,0BAA5C,CACA,MAAOC,CAAAA,OAAP,KAAoB,+BAApB,CAEA,QAASC,CAAAA,gBAAT,EAA4B,CAC1B,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEA,GAAMS,CAAAA,OAAO,CAAGV,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACC,OAAN,CAAcF,OAAlB,EAAN,CAA3B,CAJ0B,cAKMb,QAAQ,CAAC,EAAD,CALd,wCAKnBgB,QALmB,eAKTC,WALS,eAM1B,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,CAAC,SAAAW,KAAK,QAAIA,CAAAA,KAAK,CAACK,IAAN,CAAWA,IAAf,EAAN,CAA5B,CACA;AACAlB,SAAS,CAAC,UAAM,CACd,GAAImB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAJ,CAA8C,CAC5CN,WAAW,CAACG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAD,CAAX,CACD,CAFD,IAEO,IAAI,CAACH,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAD,EAA6CL,QAAjD,CAA2D,CAChED,WAAW,CAACC,QAAD,CAAX,CACD,CAFM,IAEA,CACN,CACF,CAPQ,CAON,CAACA,QAAD,CAPM,CAAT,CAQA,GAAMM,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/Bb,QAAQ,CAACJ,aAAa,EAAd,CAAR,CACD,CAFD,CAIA,GAAMkB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,CAAC,CAAI,CACtBf,QAAQ,CAACH,YAAY,EAAb,CAAR,CACA;AACD,CAHD,CAKA,GAAMmB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAD,CAAC,CAAI,CACpB,GAAI,CACFJ,YAAY,CAACM,UAAb,CAAwBvB,YAAxB,EACAiB,YAAY,CAACM,UAAb,CAAwBtB,aAAxB,EACAgB,YAAY,CAACM,UAAb,CAAwB,MAAxB,EACAhB,OAAO,CAACiB,IAAR,CAAa,aAAb,EACD,CAAC,MAAOH,CAAP,CAAU,CAAE,CACf,CAPD,CASA,mBACE,qDACE,oBAAC,OAAD,EACE,QAAQ,CAAEV,QADZ,CAEE,kBAAkB,CAAEQ,kBAFtB,CAGE,IAAI,CAAEX,OAHR,CAIE,KAAK,CAAC,KAJR,CAKE,QAAQ,CAAEc,QALZ,CAME,UAAU,CAAEF,UANd,EADF,CADF,CAYD,CAED,cAAef,CAAAA,gBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { ACCESS_TOKEN, REFRESH_TOKEN } from \"../lib/config\";\nimport { chagneSidebar, closeSidebar } from \"../store/modules/sidebar\";\nimport Sidebar from \"../components/Sidebar/Sidebar\";\n\nfunction SidebarContainer() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const isClose = useSelector(state => state.sidebar.isClose);\n  const [userInfo, setUserInfo] = useState(\"\");\n  const userData = useSelector(state => state.user.user);\n  // const userInfo = useSelector(state => state.user.user);\n  useEffect(() => {\n    if (JSON.parse(localStorage.getItem(\"user\"))) {\n      setUserInfo(JSON.parse(localStorage.getItem(\"user\")));\n    } else if (!JSON.parse(localStorage.getItem(\"user\")) && userData) {\n      setUserInfo(userData);\n    } else {\n    }\n  }, [userData]);\n  const handleDrawerToggle = () => {\n    dispatch(chagneSidebar());\n  };\n\n  const onNavClick = e => {\n    dispatch(closeSidebar());\n    // dispatch()\n  };\n\n  const onLogout = e => {\n    try {\n      localStorage.removeItem(ACCESS_TOKEN);\n      localStorage.removeItem(REFRESH_TOKEN);\n      localStorage.removeItem(\"user\");\n      history.push(\"/auth/login\");\n    } catch (e) {}\n  };\n\n  return (\n    <>\n      <Sidebar\n        userInfo={userInfo}\n        handleDrawerToggle={handleDrawerToggle}\n        open={isClose}\n        color=\"red\"\n        onLogout={onLogout}\n        onNavClick={onNavClick}\n      />\n    </>\n  );\n}\n\nexport default SidebarContainer;\n"]},"metadata":{},"sourceType":"module"}