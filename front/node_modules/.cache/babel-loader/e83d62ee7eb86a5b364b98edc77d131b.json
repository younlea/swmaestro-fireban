{"ast":null,"code":"import _slicedToArray from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import ReactPlayer from\"react-player\";function StreamPlayer(_ref){var streamUrl=_ref.streamUrl,lowClassName=_ref.lowClassName;// const source =\n//   \"http://www.fireban.kr/api/stream/live/sDbgKBpBXC0CQ474kWWP/index.m3u8\";\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),duration=_useState2[0],setDuration=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),secondsElapsed=_useState4[0],setSecondsElapsed=_useState4[1];var onDuration=function onDuration(duration){console.log(123,duration);setDuration({duration:duration});};var onProgress=function onProgress(progress){if(!duration){// Sadly we don't have the duration yet so we can't do anything\nreturn;}// progress.played is the fraction of the video that has been played\n// so multiply with duration to get number of seconds elapsed\nvar played=progress.played;console.log(duration.duration);console.log(played);var test=Number(progress.played)*Number(duration.duration);console.log(test);if(test!==secondsElapsed){setSecondsElapsed({test:test});}};var url=\"http://www.fireban.kr\"+streamUrl;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ReactPlayer// className=\"react-player\"\n,{className:lowClassName,style:{marginBottom:\"1rem\"},url:url,width:\"100%\",height:\"50vh\"// onReady=\"true\"\n,controls:true,onDuration:onDuration,onProgress:onProgress}));}export default StreamPlayer;","map":{"version":3,"sources":["/home/webmaster/front/src/components/Stream/StreamPlayer.js"],"names":["React","useState","ReactPlayer","StreamPlayer","streamUrl","lowClassName","duration","setDuration","secondsElapsed","setSecondsElapsed","onDuration","console","log","onProgress","progress","played","test","Number","url","marginBottom"],"mappings":"4IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CAEA,QAASC,CAAAA,YAAT,MAAmD,IAA3BC,CAAAA,SAA2B,MAA3BA,SAA2B,CAAhBC,YAAgB,MAAhBA,YAAgB,CACjD;AACA;AAFiD,cAIjBJ,QAAQ,CAAC,IAAD,CAJS,wCAI1CK,QAJ0C,eAIhCC,WAJgC,8BAKLN,QAAQ,CAAC,IAAD,CALH,yCAK1CO,cAL0C,eAK1BC,iBAL0B,eAOjD,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAJ,QAAQ,CAAI,CAC7BK,OAAO,CAACC,GAAR,CAAY,GAAZ,CAAiBN,QAAjB,EACAC,WAAW,CAAC,CAAED,QAAQ,CAARA,QAAF,CAAD,CAAX,CACD,CAHD,CAIA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,QAAQ,CAAI,CAC7B,GAAI,CAACR,QAAL,CAAe,CACb;AACA,OACD,CAED;AACA;AACA,GAAMS,CAAAA,MAAM,CAAGD,QAAQ,CAACC,MAAxB,CACAJ,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACA,QAArB,EACAK,OAAO,CAACC,GAAR,CAAYG,MAAZ,EACA,GAAMC,CAAAA,IAAI,CAAGC,MAAM,CAACH,QAAQ,CAACC,MAAV,CAAN,CAA0BE,MAAM,CAACX,QAAQ,CAACA,QAAV,CAA7C,CACAK,OAAO,CAACC,GAAR,CAAYI,IAAZ,EAEA,GAAIA,IAAI,GAAKR,cAAb,CAA6B,CAC3BC,iBAAiB,CAAC,CAAEO,IAAI,CAAJA,IAAF,CAAD,CAAjB,CACD,CACF,CAjBD,CAkBA,GAAME,CAAAA,GAAG,CAAG,wBAA0Bd,SAAtC,CAEA,mBACE,qDACE,oBAAC,WACC;AADF,EAEE,SAAS,CAAEC,YAFb,CAGE,KAAK,CAAE,CAAEc,YAAY,CAAE,MAAhB,CAHT,CAIE,GAAG,CAAED,GAJP,CAKE,KAAK,CAAC,MALR,CAME,MAAM,CAAC,MACP;AAPF,CAQE,QAAQ,CAAE,IARZ,CASE,UAAU,CAAER,UATd,CAUE,UAAU,CAAEG,UAVd,EADF,CADF,CAgBD,CAED,cAAeV,CAAAA,YAAf","sourcesContent":["import React, { useState } from \"react\";\n\nimport ReactPlayer from \"react-player\";\n\nfunction StreamPlayer({ streamUrl, lowClassName }) {\n  // const source =\n  //   \"http://www.fireban.kr/api/stream/live/sDbgKBpBXC0CQ474kWWP/index.m3u8\";\n\n  const [duration, setDuration] = useState(null);\n  const [secondsElapsed, setSecondsElapsed] = useState(null);\n\n  const onDuration = duration => {\n    console.log(123, duration);\n    setDuration({ duration });\n  };\n  const onProgress = progress => {\n    if (!duration) {\n      // Sadly we don't have the duration yet so we can't do anything\n      return;\n    }\n\n    // progress.played is the fraction of the video that has been played\n    // so multiply with duration to get number of seconds elapsed\n    const played = progress.played;\n    console.log(duration.duration);\n    console.log(played);\n    const test = Number(progress.played) * Number(duration.duration);\n    console.log(test);\n\n    if (test !== secondsElapsed) {\n      setSecondsElapsed({ test });\n    }\n  };\n  const url = \"http://www.fireban.kr\" + streamUrl;\n\n  return (\n    <>\n      <ReactPlayer\n        // className=\"react-player\"\n        className={lowClassName}\n        style={{ marginBottom: \"1rem\" }}\n        url={url}\n        width=\"100%\"\n        height=\"50vh\"\n        // onReady=\"true\"\n        controls={true}\n        onDuration={onDuration}\n        onProgress={onProgress}\n      />\n    </>\n  );\n}\n\nexport default StreamPlayer;\n"]},"metadata":{},"sourceType":"module"}