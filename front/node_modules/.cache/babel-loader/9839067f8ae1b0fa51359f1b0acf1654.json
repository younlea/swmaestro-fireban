{"ast":null,"code":"import _slicedToArray from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import styles from\"../../assets/jss/material-dashboard-react/layouts/adminStyle.js\";import SidebarContainer from\"../SidebarContainer.js\";import NavbarContainer from\"../NavbarContainer.js\";import{getDetectDetail}from\"../../store/modules/detect.js\";import{useDispatch,useSelector}from\"react-redux\";import DetectImager from\"../../components/Detect/DetectImager.js\";var mainPanel=React.createRef();function DefaultDetailContainer(_ref){var match=_ref.match;var dispatch=useDispatch();var key=match.params.key;var targetImage=useSelector(function(state){return state.detect.targetImage;});var targetDetectInfo=useSelector(function(state){return state.detect.targetDetectInfo;});var gpsInfo=useSelector(function(state){return state.detect.gpsInfo;});// const error = useSelector(state => state.detect.error);\n// const loading = useSelector(\n//   state => state.loading[\"detect/GET_DETECT_DETAIL\"]\n// );\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),check=_useState2[0],setCheck=_useState2[1];// dispatch(getDetectDetail(key));\nif(!check){dispatch(getDetectDetail(key));setCheck(true);}var onReload=function onReload(e){e.preventDefault();// history.go();\ndispatch(getDetectDetail(key));};var useStyles=makeStyles(styles);var classes=useStyles();return/*#__PURE__*/React.createElement(React.Fragment,null,targetImage&&/*#__PURE__*/React.createElement(\"div\",{className:classes.wrapper},/*#__PURE__*/React.createElement(SidebarContainer,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.mainPanel,ref:mainPanel},/*#__PURE__*/React.createElement(NavbarContainer,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.content},/*#__PURE__*/React.createElement(DetectImager,{targetImage:targetImage,targetDetectInfo:targetDetectInfo,onReload:onReload,targetKey:key,type:\"default\",gpsInfo:gpsInfo})))));}export default DefaultDetailContainer;","map":{"version":3,"sources":["/home/webmaster/front/src/containers/Detect/DefaultDetailContainer.js"],"names":["React","useState","makeStyles","styles","SidebarContainer","NavbarContainer","getDetectDetail","useDispatch","useSelector","DetectImager","mainPanel","createRef","DefaultDetailContainer","match","dispatch","key","params","targetImage","state","detect","targetDetectInfo","gpsInfo","check","setCheck","onReload","e","preventDefault","useStyles","classes","wrapper","content"],"mappings":"4IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,iEAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,wBAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,uBAA5B,CACA,OAASC,eAAT,KAAgC,+BAAhC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,YAAP,KAAyB,yCAAzB,CACA,GAAMC,CAAAA,SAAS,CAAGV,KAAK,CAACW,SAAN,EAAlB,CAEA,QAASC,CAAAA,sBAAT,MAA2C,IAATC,CAAAA,KAAS,MAATA,KAAS,CACzC,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,CAAAA,GAAG,CAAGF,KAAK,CAACG,MAAN,CAAaD,GAAzB,CACA,GAAME,CAAAA,WAAW,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACC,MAAN,CAAaF,WAAjB,EAAN,CAA/B,CAEA,GAAMG,CAAAA,gBAAgB,CAAGZ,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACC,MAAN,CAAaC,gBAAjB,EAAN,CAApC,CAEA,GAAMC,CAAAA,OAAO,CAAGb,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACC,MAAN,CAAaE,OAAjB,EAAN,CAA3B,CAGA;AACA;AACA;AACA;AAbyC,cAcfpB,QAAQ,CAAC,KAAD,CAdO,wCAclCqB,KAdkC,eAc3BC,QAd2B,eAezC;AAEA,GAAI,CAACD,KAAL,CAAY,CACVR,QAAQ,CAACR,eAAe,CAACS,GAAD,CAAhB,CAAR,CACAQ,QAAQ,CAAC,IAAD,CAAR,CACD,CAED,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,CAAI,CACpBA,CAAC,CAACC,cAAF,GACA;AACAZ,QAAQ,CAACR,eAAe,CAACS,GAAD,CAAhB,CAAR,CACD,CAJD,CAMA,GAAMY,CAAAA,SAAS,CAAGzB,UAAU,CAACC,MAAD,CAA5B,CACA,GAAMyB,CAAAA,OAAO,CAAGD,SAAS,EAAzB,CAEA,mBACE,wCACGV,WAAW,eACV,2BAAK,SAAS,CAAEW,OAAO,CAACC,OAAxB,eACE,oBAAC,gBAAD,MADF,cAEE,2BAAK,SAAS,CAAED,OAAO,CAAClB,SAAxB,CAAmC,GAAG,CAAEA,SAAxC,eACE,oBAAC,eAAD,MADF,cAEE,2BAAK,SAAS,CAAEkB,OAAO,CAACE,OAAxB,eACE,oBAAC,YAAD,EACE,WAAW,CAAEb,WADf,CAEE,gBAAgB,CAAEG,gBAFpB,CAGE,QAAQ,CAAEI,QAHZ,CAIE,SAAS,CAAET,GAJb,CAKE,IAAI,CAAC,SALP,CAME,OAAO,CAAEM,OANX,EADF,CAFF,CAFF,CAFJ,CADF,CAsBD,CAED,cAAeT,CAAAA,sBAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport styles from \"../../assets/jss/material-dashboard-react/layouts/adminStyle.js\";\nimport SidebarContainer from \"../SidebarContainer.js\";\nimport NavbarContainer from \"../NavbarContainer.js\";\nimport { getDetectDetail } from \"../../store/modules/detect.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport DetectImager from \"../../components/Detect/DetectImager.js\";\nconst mainPanel = React.createRef();\n\nfunction DefaultDetailContainer({ match }) {\n  const dispatch = useDispatch();\n  const key = match.params.key;\n  const targetImage = useSelector(state => state.detect.targetImage);\n\n  const targetDetectInfo = useSelector(state => state.detect.targetDetectInfo)\n\n  const gpsInfo = useSelector(state => state.detect.gpsInfo)\n\n\n  // const error = useSelector(state => state.detect.error);\n  // const loading = useSelector(\n  //   state => state.loading[\"detect/GET_DETECT_DETAIL\"]\n  // );\n  const [check, setCheck] = useState(false);\n  // dispatch(getDetectDetail(key));\n\n  if (!check) {\n    dispatch(getDetectDetail(key));\n    setCheck(true);\n  }\n\n  const onReload = e => {\n    e.preventDefault();\n    // history.go();\n    dispatch(getDetectDetail(key));\n  };\n\n  const useStyles = makeStyles(styles);\n  const classes = useStyles();\n\n  return (\n    <>\n      {targetImage && (\n        <div className={classes.wrapper}>\n          <SidebarContainer></SidebarContainer>\n          <div className={classes.mainPanel} ref={mainPanel}>\n            <NavbarContainer />\n            <div className={classes.content}>\n              <DetectImager\n                targetImage={targetImage}\n                targetDetectInfo={targetDetectInfo}\n                onReload={onReload}\n                targetKey={key}\n                type=\"default\"\n                gpsInfo={gpsInfo}\n              ></DetectImager>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default DefaultDetailContainer;\n"]},"metadata":{},"sourceType":"module"}