{"ast":null,"code":"import _defineProperty from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _handleActions;var _marked=/*#__PURE__*/_regeneratorRuntime.mark(videoSaga);import{createAction,handleActions}from\"redux-actions\";import{takeLatest}from\"redux-saga/effects\";import createRequestSaga,{createRequestActionTypes}from\"../../lib/createRequestSaga\";import*as videoAPI from\"../../lib/api/video\";var _createRequestActionT=createRequestActionTypes(\"video/GET_TIC_INFO\"),_createRequestActionT2=_slicedToArray(_createRequestActionT,3),GET_TIC_INFO=_createRequestActionT2[0],GET_TIC_INFO_SUCCESS=_createRequestActionT2[1],GET_TIC_INFO_FAILURE=_createRequestActionT2[2];var _createRequestActionT3=createRequestActionTypes(\"video/GET_STREAM_INFO\"),_createRequestActionT4=_slicedToArray(_createRequestActionT3,3),GET_STREAM_INFO=_createRequestActionT4[0],GET_STREAM_INFO_SUCCESS=_createRequestActionT4[1],GET_STREAM_INFO_FAILURE=_createRequestActionT4[2];var _createRequestActionT5=createRequestActionTypes(\"video/GET_TIC_INFO_MORE\"),_createRequestActionT6=_slicedToArray(_createRequestActionT5,3),GET_TIC_INFO_MORE=_createRequestActionT6[0],GET_TIC_INFO_MORE_SUCCESS=_createRequestActionT6[1],GET_TIC_INFO_MORE_FAILURE=_createRequestActionT6[2];var _createRequestActionT7=createRequestActionTypes(\"video/GET_STREAM_INFO_MORE\"),_createRequestActionT8=_slicedToArray(_createRequestActionT7,3),GET_STREAM_INFO_MORE=_createRequestActionT8[0],GET_STREAM_INFO_MORE_SUCCESS=_createRequestActionT8[1],GET_STREAM_INFO_MORE_FAILURE=_createRequestActionT8[2];export var getTICInfo=createAction(GET_TIC_INFO,function(page){return page;});export var getStreamInfo=createAction(GET_STREAM_INFO,function(page){return page;});export var getTICInfoMore=createAction(GET_TIC_INFO_MORE,function(page){return page;});export var getStreamInfoMore=createAction(GET_STREAM_INFO_MORE,function(page){return page;});var getTicInfoSaga=createRequestSaga(GET_TIC_INFO,videoAPI.getTicRecordInfo);var getStreamInfoSaga=createRequestSaga(GET_STREAM_INFO,videoAPI.getStreamRecordInfo);var getTicInfoMoreSaga=createRequestSaga(GET_TIC_INFO_MORE,videoAPI.getTicRecordInfo);var getStreamInfoMoreSaga=createRequestSaga(GET_STREAM_INFO_MORE,videoAPI.getStreamRecordInfo);export function videoSaga(){return _regeneratorRuntime.wrap(function videoSaga$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(GET_TIC_INFO,getTicInfoSaga);case 2:_context.next=4;return takeLatest(GET_STREAM_INFO,getStreamInfoSaga);case 4:_context.next=6;return takeLatest(GET_TIC_INFO_MORE,getTicInfoMoreSaga);case 6:_context.next=8;return takeLatest(GET_STREAM_INFO_MORE,getStreamInfoMoreSaga);case 8:case\"end\":return _context.stop();}}},_marked);}export var initialState={video:null,error:{type:null,description:null},target:null,gpsInfo:\"\",page:1};var video=handleActions((_handleActions={},_defineProperty(_handleActions,GET_TIC_INFO_SUCCESS,function(state,_ref){var data=_ref.payload;return _objectSpread({},state,{video:data.message,page:data.page,error:initialState.error});}),_defineProperty(_handleActions,GET_TIC_INFO_FAILURE,function(state,_ref2){var error=_ref2.payload;return _objectSpread({},state,{video:initialState.video,error:{type:\"ticInfo\",description:error}});}),_defineProperty(_handleActions,GET_STREAM_INFO_SUCCESS,function(state,_ref3){var data=_ref3.payload;return _objectSpread({},state,{video:data.message,page:data.page,error:initialState.error});}),_defineProperty(_handleActions,GET_STREAM_INFO_FAILURE,function(state,_ref4){var error=_ref4.payload;return _objectSpread({},state,{video:initialState.video,error:{type:\"streamInfo\",description:error}});}),_defineProperty(_handleActions,GET_TIC_INFO_MORE_SUCCESS,function(state,_ref5){var data=_ref5.payload;return _objectSpread({},state,{video:state.video.concat(data.message),page:data.page,error:initialState.error});}),_defineProperty(_handleActions,GET_TIC_INFO_MORE_FAILURE,function(state,_ref6){var error=_ref6.payload;return _objectSpread({},state,{error:{type:\"ticInfoMore\",description:error}});}),_defineProperty(_handleActions,GET_STREAM_INFO_MORE_SUCCESS,function(state,_ref7){var data=_ref7.payload;return _objectSpread({},state,{video:state.video.concat(data.message),page:data.page,error:initialState.error});}),_defineProperty(_handleActions,GET_STREAM_INFO_MORE_FAILURE,function(state,_ref8){var error=_ref8.payload;return _objectSpread({},state,{error:{type:\"streamInfoMore\",description:error}});}),_handleActions),initialState);export default video;","map":{"version":3,"sources":["/home/webmaster/front/src/store/modules/video.js"],"names":["videoSaga","createAction","handleActions","takeLatest","createRequestSaga","createRequestActionTypes","videoAPI","GET_TIC_INFO","GET_TIC_INFO_SUCCESS","GET_TIC_INFO_FAILURE","GET_STREAM_INFO","GET_STREAM_INFO_SUCCESS","GET_STREAM_INFO_FAILURE","GET_TIC_INFO_MORE","GET_TIC_INFO_MORE_SUCCESS","GET_TIC_INFO_MORE_FAILURE","GET_STREAM_INFO_MORE","GET_STREAM_INFO_MORE_SUCCESS","GET_STREAM_INFO_MORE_FAILURE","getTICInfo","page","getStreamInfo","getTICInfoMore","getStreamInfoMore","getTicInfoSaga","getTicRecordInfo","getStreamInfoSaga","getStreamRecordInfo","getTicInfoMoreSaga","getStreamInfoMoreSaga","initialState","video","error","type","description","target","gpsInfo","state","data","payload","message","concat"],"mappings":"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","sourcesContent":["import { createAction, handleActions } from \"redux-actions\";\nimport { takeLatest } from \"redux-saga/effects\";\nimport createRequestSaga, {\n  createRequestActionTypes\n} from \"../../lib/createRequestSaga\";\nimport * as videoAPI from \"../../lib/api/video\";\n\nconst [\n  GET_TIC_INFO,\n  GET_TIC_INFO_SUCCESS,\n  GET_TIC_INFO_FAILURE\n] = createRequestActionTypes(\"video/GET_TIC_INFO\");\n\nconst [\n  GET_STREAM_INFO,\n  GET_STREAM_INFO_SUCCESS,\n  GET_STREAM_INFO_FAILURE\n] = createRequestActionTypes(\"video/GET_STREAM_INFO\");\n\n\nconst [\n  GET_TIC_INFO_MORE,\n  GET_TIC_INFO_MORE_SUCCESS,\n  GET_TIC_INFO_MORE_FAILURE\n] = createRequestActionTypes(\"video/GET_TIC_INFO_MORE\");\n\nconst [\n  GET_STREAM_INFO_MORE,\n  GET_STREAM_INFO_MORE_SUCCESS,\n  GET_STREAM_INFO_MORE_FAILURE\n] = createRequestActionTypes(\"video/GET_STREAM_INFO_MORE\");\n\nexport const getTICInfo = createAction(GET_TIC_INFO, (page) => (page));\nexport const getStreamInfo = createAction(GET_STREAM_INFO, (page) => (page));\n\nexport const getTICInfoMore = createAction(GET_TIC_INFO_MORE, (page) => (page));\nexport const getStreamInfoMore = createAction(GET_STREAM_INFO_MORE, (page) => (page));\n\nconst getTicInfoSaga = createRequestSaga(\n  GET_TIC_INFO,\n  videoAPI.getTicRecordInfo\n);\n\nconst getStreamInfoSaga = createRequestSaga(\n  GET_STREAM_INFO,\n  videoAPI.getStreamRecordInfo\n);\n\n\nconst getTicInfoMoreSaga = createRequestSaga(\n  GET_TIC_INFO_MORE,\n  videoAPI.getTicRecordInfo\n);\n\nconst getStreamInfoMoreSaga = createRequestSaga(\n  GET_STREAM_INFO_MORE,\n  videoAPI.getStreamRecordInfo\n);\n\nexport function* videoSaga() {\n  yield takeLatest(GET_TIC_INFO, getTicInfoSaga);\n  yield takeLatest(GET_STREAM_INFO, getStreamInfoSaga);\n  yield takeLatest(GET_TIC_INFO_MORE, getTicInfoMoreSaga);\n  yield takeLatest(GET_STREAM_INFO_MORE, getStreamInfoMoreSaga);\n}\n\nexport const initialState = {\n  video: null,\n  error: {\n    type: null,\n    description: null\n  },\n  target: null,\n  gpsInfo: \"\",\n  page:1\n};\n\nconst video = handleActions(\n  {\n    [GET_TIC_INFO_SUCCESS]: (state, { payload: data }) => ({\n      ...state,\n      video: data.message,\n      page:data.page,\n      error: initialState.error\n    }),\n    [GET_TIC_INFO_FAILURE]: (state, { payload: error }) => ({\n      ...state,\n      video: initialState.video,\n      error: { type: \"ticInfo\", description: error }\n    }),\n    [GET_STREAM_INFO_SUCCESS]: (state, { payload: data }) => ({\n      ...state,\n      video: data.message,\n      page:data.page,\n      error: initialState.error\n    }),\n    [GET_STREAM_INFO_FAILURE]: (state, { payload: error }) => ({\n      ...state,\n      video: initialState.video,\n      error: { type: \"streamInfo\", description: error }\n    }),\n    [GET_TIC_INFO_MORE_SUCCESS]: (state, { payload: data }) => ({\n      ...state,\n      video: state.video.concat(data.message),\n      page:data.page,\n      error: initialState.error\n    }),\n    [GET_TIC_INFO_MORE_FAILURE]: (state, { payload: error }) => ({\n      ...state,\n      error: { type: \"ticInfoMore\", description: error }\n    }),\n    [GET_STREAM_INFO_MORE_SUCCESS]: (state, { payload: data }) => ({\n      ...state,\n      video: state.video.concat(data.message),\n      page:data.page,\n      error: initialState.error\n    }),\n    [GET_STREAM_INFO_MORE_FAILURE]: (state, { payload: error }) => ({\n      ...state,\n      error: { type: \"streamInfoMore\", description: error }\n    }),\n  },\n  initialState\n);\n\nexport default video;\n"]},"metadata":{},"sourceType":"module"}