{"ast":null,"code":"import _defineProperty from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _handleActions;var _marked=/*#__PURE__*/_regeneratorRuntime.mark(videoSaga);import{createAction,handleActions}from\"redux-actions\";import{takeLatest}from\"redux-saga/effects\";import createRequestSaga,{createRequestActionTypes}from\"../../lib/createRequestSaga\";import*as videoAPI from\"../../lib/api/video\";var _createRequestActionT=createRequestActionTypes(\"video/GET_TIC_INFO\"),_createRequestActionT2=_slicedToArray(_createRequestActionT,3),GET_TIC_INFO=_createRequestActionT2[0],GET_TIC_INFO_SUCCESS=_createRequestActionT2[1],GET_TIC_INFO_FAILURE=_createRequestActionT2[2];var _createRequestActionT3=createRequestActionTypes(\"video/GET_STREAM_INFO\"),_createRequestActionT4=_slicedToArray(_createRequestActionT3,3),GET_STREAM_INFO=_createRequestActionT4[0],GET_STREAM_INFO_SUCCESS=_createRequestActionT4[1],GET_STREAM_INFO_FAILURE=_createRequestActionT4[2];export var getTICInfo=createAction(GET_TIC_INFO);export var getStreamInfo=createAction(GET_STREAM_INFO);var getTicInfoSaga=createRequestSaga(GET_TIC_INFO,videoAPI.getTicRecordInfo);var getStreamInfoSaga=createRequestSaga(GET_STREAM_INFO,videoAPI.getStreamRecordInfo);export function videoSaga(){return _regeneratorRuntime.wrap(function videoSaga$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(GET_TIC_INFO,getTicInfoSaga);case 2:_context.next=4;return takeLatest(GET_STREAM_INFO,getStreamInfoSaga);case 4:case\"end\":return _context.stop();}}},_marked);}export var initialState={video:null,error:{type:null,description:null},target:null,gpsInfo:\"\"};var video=handleActions((_handleActions={},_defineProperty(_handleActions,GET_TIC_INFO_SUCCESS,function(state,_ref){var data=_ref.payload;return _objectSpread({},state,{video:data,error:initialState.error});}),_defineProperty(_handleActions,GET_TIC_INFO_FAILURE,function(state,_ref2){var error=_ref2.payload;return _objectSpread({},state,{video:initialState.video,error:{type:\"ticInfo\",description:error}});}),_defineProperty(_handleActions,GET_STREAM_INFO_SUCCESS,function(state,_ref3){var data=_ref3.payload;return _objectSpread({},state,{video:data,error:initialState.error});}),_defineProperty(_handleActions,GET_STREAM_INFO_FAILURE,function(state,_ref4){var error=_ref4.payload;return _objectSpread({},state,{video:initialState.video,error:{type:\"streamInfo\",description:error}});}),_handleActions),initialState);export default video;","map":{"version":3,"sources":["/home/webmaster/front/src/store/modules/video.js"],"names":["videoSaga","createAction","handleActions","takeLatest","createRequestSaga","createRequestActionTypes","videoAPI","GET_TIC_INFO","GET_TIC_INFO_SUCCESS","GET_TIC_INFO_FAILURE","GET_STREAM_INFO","GET_STREAM_INFO_SUCCESS","GET_STREAM_INFO_FAILURE","getTICInfo","getStreamInfo","getTicInfoSaga","getTicRecordInfo","getStreamInfoSaga","getStreamRecordInfo","initialState","video","error","type","description","target","gpsInfo","state","data","payload"],"mappings":"6mBAgCiBA,S,EAhCjB,OAASC,YAAT,CAAuBC,aAAvB,KAA4C,eAA5C,CACA,OAASC,UAAT,KAA2B,oBAA3B,CACA,MAAOC,CAAAA,iBAAP,EACEC,wBADF,KAEO,6BAFP,CAGA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,qBAA1B,C,0BAMID,wBAAwB,CAAC,oBAAD,C,gEAH1BE,Y,2BACAC,oB,2BACAC,oB,sDAOEJ,wBAAwB,CAAC,uBAAD,C,iEAH1BK,e,2BACAC,uB,2BACAC,uB,2BAGF,MAAO,IAAMC,CAAAA,UAAU,CAAGZ,YAAY,CAACM,YAAD,CAA/B,CACP,MAAO,IAAMO,CAAAA,aAAa,CAAGb,YAAY,CAACS,eAAD,CAAlC,CAEP,GAAMK,CAAAA,cAAc,CAAGX,iBAAiB,CACtCG,YADsC,CAEtCD,QAAQ,CAACU,gBAF6B,CAAxC,CAKA,GAAMC,CAAAA,iBAAiB,CAAGb,iBAAiB,CACzCM,eADyC,CAEzCJ,QAAQ,CAACY,mBAFgC,CAA3C,CAKA,MAAO,SAAUlB,CAAAA,SAAV,qIACL,MAAMG,CAAAA,UAAU,CAACI,YAAD,CAAeQ,cAAf,CAAhB,CADK,uBAEL,MAAMZ,CAAAA,UAAU,CAACO,eAAD,CAAkBO,iBAAlB,CAAhB,CAFK,sDAKP,MAAO,IAAME,CAAAA,YAAY,CAAG,CAC1BC,KAAK,CAAE,IADmB,CAE1BC,KAAK,CAAE,CACLC,IAAI,CAAE,IADD,CAELC,WAAW,CAAE,IAFR,CAFmB,CAM1BC,MAAM,CAAE,IANkB,CAO1BC,OAAO,CAAE,EAPiB,CAArB,CAUP,GAAML,CAAAA,KAAK,CAAGlB,aAAa,mDAEtBM,oBAFsB,CAEC,SAACkB,KAAD,UAAmBC,CAAAA,IAAnB,MAAUC,OAAV,yBACnBF,KADmB,EAEtBN,KAAK,CAAEO,IAFe,CAGtBN,KAAK,CAAEF,YAAY,CAACE,KAHE,IAFD,iCAOtBZ,oBAPsB,CAOC,SAACiB,KAAD,WAAmBL,CAAAA,KAAnB,OAAUO,OAAV,yBACnBF,KADmB,EAEtBN,KAAK,CAAED,YAAY,CAACC,KAFE,CAGtBC,KAAK,CAAE,CAAEC,IAAI,CAAE,SAAR,CAAmBC,WAAW,CAAEF,KAAhC,CAHe,IAPD,iCAYtBV,uBAZsB,CAYI,SAACe,KAAD,WAAmBC,CAAAA,IAAnB,OAAUC,OAAV,yBACtBF,KADsB,EAEzBN,KAAK,CAAEO,IAFkB,CAGzBN,KAAK,CAAEF,YAAY,CAACE,KAHK,IAZJ,iCAiBtBT,uBAjBsB,CAiBI,SAACc,KAAD,WAAmBL,CAAAA,KAAnB,OAAUO,OAAV,yBACtBF,KADsB,EAEzBN,KAAK,CAAED,YAAY,CAACC,KAFK,CAGzBC,KAAK,CAAE,CAAEC,IAAI,CAAE,YAAR,CAAsBC,WAAW,CAAEF,KAAnC,CAHkB,IAjBJ,kBAuBzBF,YAvByB,CAA3B,CA0BA,cAAeC,CAAAA,KAAf","sourcesContent":["import { createAction, handleActions } from \"redux-actions\";\nimport { takeLatest } from \"redux-saga/effects\";\nimport createRequestSaga, {\n  createRequestActionTypes\n} from \"../../lib/createRequestSaga\";\nimport * as videoAPI from \"../../lib/api/video\";\n\nconst [\n  GET_TIC_INFO,\n  GET_TIC_INFO_SUCCESS,\n  GET_TIC_INFO_FAILURE\n] = createRequestActionTypes(\"video/GET_TIC_INFO\");\n\nconst [\n  GET_STREAM_INFO,\n  GET_STREAM_INFO_SUCCESS,\n  GET_STREAM_INFO_FAILURE\n] = createRequestActionTypes(\"video/GET_STREAM_INFO\");\n\nexport const getTICInfo = createAction(GET_TIC_INFO);\nexport const getStreamInfo = createAction(GET_STREAM_INFO);\n\nconst getTicInfoSaga = createRequestSaga(\n  GET_TIC_INFO,\n  videoAPI.getTicRecordInfo\n);\n\nconst getStreamInfoSaga = createRequestSaga(\n  GET_STREAM_INFO,\n  videoAPI.getStreamRecordInfo\n);\n\nexport function* videoSaga() {\n  yield takeLatest(GET_TIC_INFO, getTicInfoSaga);\n  yield takeLatest(GET_STREAM_INFO, getStreamInfoSaga);\n}\n\nexport const initialState = {\n  video: null,\n  error: {\n    type: null,\n    description: null\n  },\n  target: null,\n  gpsInfo: \"\"\n};\n\nconst video = handleActions(\n  {\n    [GET_TIC_INFO_SUCCESS]: (state, { payload: data }) => ({\n      ...state,\n      video: data,\n      error: initialState.error\n    }),\n    [GET_TIC_INFO_FAILURE]: (state, { payload: error }) => ({\n      ...state,\n      video: initialState.video,\n      error: { type: \"ticInfo\", description: error }\n    }),\n    [GET_STREAM_INFO_SUCCESS]: (state, { payload: data }) => ({\n      ...state,\n      video: data,\n      error: initialState.error\n    }),\n    [GET_STREAM_INFO_FAILURE]: (state, { payload: error }) => ({\n      ...state,\n      video: initialState.video,\n      error: { type: \"streamInfo\", description: error }\n    })\n  },\n  initialState\n);\n\nexport default video;\n"]},"metadata":{},"sourceType":"module"}