{"ast":null,"code":"import _regeneratorRuntime from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import DetectInfo from\"../../components/Detect/DetectInfo\";import{getDetectInfo}from\"../../store/modules/detect\";// import RecordInfo from \"../../components/Record/RecordInfo\";\nvar _window=window,kakao=_window.kakao;var SubNavContents=[{title:\"탐지 이미지\",description:\"요구조자 및 화재 탐지 이미지를 확인하실 수 있습니다.\",color:\"blue\"}];function InfoContainer(_ref){var onDetect=_ref.onDetect;var imageList=useSelector(function(state){return state.detect.imageList;});var dispatch=useDispatch();var error=useSelector(function(state){return state.detect.error;});var loading=useSelector(function(state){return state.loading[\"detect/GET_DETECT_INFO\"];});useEffect(function(){if(error.type!==\"\"&&!imageList){dispatch(getDetectInfo());}},[dispatch,error.type,imageList]);var onRefresh=function onRefresh(e){e.preventDefault();dispatch(getDetectInfo());};var geocoder=new kakao.maps.services.Geocoder();function searchAddrFromCoords(_x){return _searchAddrFromCoords.apply(this,arguments);}function _searchAddrFromCoords(){_searchAddrFromCoords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(coords){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!coords||!coords.cordinateX||!coords.cordinateY)){_context.next=2;break;}return _context.abrupt(\"return\",\"X1\");case 2:_context.next=4;return geocoder.coord2RegionCode(coords.cordinateX,coords.cordinateY);case 4:result=_context.sent;if(!result){_context.next=9;break;}return _context.abrupt(\"return\",2);case 9:return _context.abrupt(\"return\",1);case 10:case\"end\":return _context.stop();}}},_callee);}));return _searchAddrFromCoords.apply(this,arguments);}return/*#__PURE__*/React.createElement(DetectInfo,{info:imageList,loading:loading,onRefresh:onRefresh,onDetect:onDetect,searchAddrFromCoords:searchAddrFromCoords,SubNavContents:SubNavContents[0]});}export default InfoContainer;","map":{"version":3,"sources":["/home/webmaster/front/src/containers/Detect/InfoContainer.js"],"names":["React","useEffect","useSelector","useDispatch","DetectInfo","getDetectInfo","window","kakao","SubNavContents","title","description","color","InfoContainer","onDetect","imageList","state","detect","dispatch","error","loading","type","onRefresh","e","preventDefault","geocoder","maps","services","Geocoder","searchAddrFromCoords","coords","cordinateX","cordinateY","coord2RegionCode","result"],"mappings":"qRAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,UAAP,KAAuB,oCAAvB,CACA,OAASC,aAAT,KAA8B,4BAA9B,CACA;YACkBC,M,CAAVC,K,SAAAA,K,CAER,GAAMC,CAAAA,cAAc,CAAG,CACrB,CACEC,KAAK,CAAE,QADT,CAEEC,WAAW,CAAE,gCAFf,CAGEC,KAAK,CAAE,MAHT,CADqB,CAAvB,CAQA,QAASC,CAAAA,aAAT,MAAqC,IAAZC,CAAAA,QAAY,MAAZA,QAAY,CACnC,GAAMC,CAAAA,SAAS,CAAGZ,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAK,CAACC,MAAN,CAAaF,SAAjB,EAAN,CAA7B,CACA,GAAMG,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,CAAAA,KAAK,CAAGhB,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAK,CAACC,MAAN,CAAaE,KAAjB,EAAN,CAAzB,CACA,GAAMC,CAAAA,OAAO,CAAGjB,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAK,CAACI,OAAN,CAAc,wBAAd,CAAJ,EAAN,CAA3B,CAEAlB,SAAS,CAAC,UAAM,CACd,GAAIiB,KAAK,CAACE,IAAN,GAAe,EAAf,EAAqB,CAACN,SAA1B,CAAqC,CACnCG,QAAQ,CAACZ,aAAa,EAAd,CAAR,CACD,CACF,CAJQ,CAIN,CAACY,QAAD,CAAWC,KAAK,CAACE,IAAjB,CAAuBN,SAAvB,CAJM,CAAT,CAMA,GAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,CAAC,CAAI,CACrBA,CAAC,CAACC,cAAF,GACAN,QAAQ,CAACZ,aAAa,EAAd,CAAR,CACD,CAHD,CAKA,GAAImB,CAAAA,QAAQ,CAAG,GAAIjB,CAAAA,KAAK,CAACkB,IAAN,CAAWC,QAAX,CAAoBC,QAAxB,EAAf,CAjBmC,QAmBpBC,CAAAA,oBAnBoB,wKAmBnC,iBAAoCC,MAApC,kIACM,CAACA,MAAD,EAAW,CAACA,MAAM,CAACC,UAAnB,EAAiC,CAACD,MAAM,CAACE,UAD/C,0DAEW,IAFX,+BAIuBP,CAAAA,QAAQ,CAACQ,gBAAT,CACnBH,MAAM,CAACC,UADY,CAEnBD,MAAM,CAACE,UAFY,CAJvB,QAIQE,MAJR,mBAQMA,MARN,yDASW,CATX,yCAWW,CAXX,yDAnBmC,uDAkCnC,mBACE,oBAAC,UAAD,EACE,IAAI,CAAEnB,SADR,CAEE,OAAO,CAAEK,OAFX,CAGE,SAAS,CAAEE,SAHb,CAIE,QAAQ,CAAER,QAJZ,CAKE,oBAAoB,CAAEe,oBALxB,CAME,cAAc,CAAEpB,cAAc,CAAC,CAAD,CANhC,EADF,CAUD,CAED,cAAeI,CAAAA,aAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport DetectInfo from \"../../components/Detect/DetectInfo\";\nimport { getDetectInfo } from \"../../store/modules/detect\";\n// import RecordInfo from \"../../components/Record/RecordInfo\";\nconst { kakao } = window;\n\nconst SubNavContents = [\n  {\n    title: \"탐지 이미지\",\n    description: \"요구조자 및 화재 탐지 이미지를 확인하실 수 있습니다.\",\n    color: \"blue\"\n  }\n];\n\nfunction InfoContainer({ onDetect }) {\n  const imageList = useSelector(state => state.detect.imageList);\n  const dispatch = useDispatch();\n  const error = useSelector(state => state.detect.error);\n  const loading = useSelector(state => state.loading[\"detect/GET_DETECT_INFO\"]);\n\n  useEffect(() => {\n    if (error.type !== \"\" && !imageList) {\n      dispatch(getDetectInfo());\n    }\n  }, [dispatch, error.type, imageList]);\n\n  const onRefresh = e => {\n    e.preventDefault();\n    dispatch(getDetectInfo());\n  };\n\n  let geocoder = new kakao.maps.services.Geocoder();\n\n  async function searchAddrFromCoords(coords) {\n    if (!coords || !coords.cordinateX || !coords.cordinateY) {\n      return \"X1\";\n    }\n    const result = await geocoder.coord2RegionCode(\n      coords.cordinateX,\n      coords.cordinateY\n    );\n    if (result) {\n      return 2;\n    } else {\n      return 1;\n    }\n  }\n\n  return (\n    <DetectInfo\n      info={imageList}\n      loading={loading}\n      onRefresh={onRefresh}\n      onDetect={onDetect}\n      searchAddrFromCoords={searchAddrFromCoords}\n      SubNavContents={SubNavContents[0]}\n    ></DetectInfo>\n  );\n}\n\nexport default InfoContainer;\n"]},"metadata":{},"sourceType":"module"}