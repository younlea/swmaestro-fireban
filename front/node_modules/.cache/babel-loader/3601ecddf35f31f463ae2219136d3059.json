{"ast":null,"code":"import _slicedToArray from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/webmaster/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n          display: none;\\n        \"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n          display: inline;\\n        \"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  \",\";\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  color: #fff;\\n  margin: 0;\\n  font-size: 24px;\\n  font-family: \\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif;\\n  font-weight: 500;\\n  line-height: 30px;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  height: 2rem;\\n  cursor: pointer;\\n  color: #fff;\\n  text-align: center;\\n  width: auto;\\n  margin: 10px 15px 0;\\n  display: block;\\n  padding: 10px 15px;\\n  position: relative;\\n  transition: all 300ms linear;\\n  font-family: \\\"Roboto\\\", \\\"Helvetica\\\", \\\"Arial\\\", sans-serif;\\n  font-weight: 300;\\n  line-height: 1.5em;\\n  border-radius: 3px;\\n  background-color: #f44336;\\n  box-shadow: 0 12px 20px -10px rgba(244, 67, 54, 0.28),\\n    0 4px 20px 0 rgba(244, 67, 54, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2);\\n  &:hover {\\n    box-shadow: 0 12px 20px -10px rgba(244, 67, 54, 0.28),\\n      0 4px 20px 0 rgba(244, 67, 54, 0.12),\\n      0 7px 8px -5px rgba(244, 67, 54, 0.2);\\n  }\\n  &:focus {\\n    box-shadow: 0 12px 20px -10px rgba(244, 67, 54, 0.28),\\n      0 4px 20px 0 rgba(244, 67, 54, 0.12),\\n      0 7px 8px -5px rgba(244, 67, 54, 0.2);\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import styles from\"../assets/jss/material-dashboard-react/layouts/adminStyle.js\";import SidebarContainer from\"./SidebarContainer.js\";import NavbarContainer from\"./NavbarContainer.js\";import StreamPlayer from\"../components/Stream/StreamPlayer.js\";import KakaoMap from\"../components/KakaoMap/KakaoMap.js\";import{useHistory}from\"react-router-dom\";import styled,{css}from\"styled-components\";var mainPanel=React.createRef();var VideoButton=styled.div(_templateObject());var VideoText=styled.div(_templateObject2());var VideoContainer=styled.div(_templateObject3(),function(props){return props.visible?css(_templateObject4()):css(_templateObject5());});function StreamContainer(_ref){var match=_ref.match;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isTic=_useState2[0],setIsTic=_useState2[1];var history=useHistory();var key=match.params.key;if(!key){// 통신 안되면 뒤로 가기\nhistory.push(\"/\");}var ticStream=\"/api/stream/tic/\"+key+\"/index.m3u8\";var hlsStream=\"/api/stream/live/\"+key+\"/index.m3u8\";var useStyles=makeStyles(styles);var classes=useStyles();var onChangeSteam=function onChangeSteam(e){setIsTic(!isTic);};return/*#__PURE__*/React.createElement(\"div\",{className:classes.wrapper},/*#__PURE__*/React.createElement(SidebarContainer,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.mainPanel,ref:mainPanel},/*#__PURE__*/React.createElement(NavbarContainer,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.content},/*#__PURE__*/React.createElement(KakaoMap,{cordinateX:\"37.504234\",cordinateY:\"127.047812\"}),/*#__PURE__*/React.createElement(VideoContainer,{visible:isTic},/*#__PURE__*/React.createElement(VideoButton,{onClick:onChangeSteam},/*#__PURE__*/React.createElement(VideoText,null,\"\\uC601\\uC0C1 \\uBCC0\\uACBD\")),/*#__PURE__*/React.createElement(StreamPlayer,{streamUrl:ticStream})),/*#__PURE__*/React.createElement(VideoContainer,{visible:!isTic},/*#__PURE__*/React.createElement(VideoButton,{onClick:onChangeSteam},/*#__PURE__*/React.createElement(VideoText,null,\"\\uC601\\uC0C1 \\uBCC0\\uACBD\")),/*#__PURE__*/React.createElement(StreamPlayer,{streamUrl:hlsStream})))));}export default StreamContainer;","map":{"version":3,"sources":["/home/webmaster/front/src/containers/StreamContainer.js"],"names":["React","useState","makeStyles","styles","SidebarContainer","NavbarContainer","StreamPlayer","KakaoMap","useHistory","styled","css","mainPanel","createRef","VideoButton","div","VideoText","VideoContainer","props","visible","StreamContainer","match","isTic","setIsTic","history","key","params","push","ticStream","hlsStream","useStyles","classes","onChangeSteam","e","wrapper","content"],"mappings":"qiEAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,8DAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uBAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,sBAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,sCAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oCAArB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,EAAiBC,GAAjB,KAA4B,mBAA5B,CACA,GAAMC,CAAAA,SAAS,CAAGX,KAAK,CAACY,SAAN,EAAlB,CAEA,GAAMC,CAAAA,WAAW,CAAGJ,MAAM,CAACK,GAAV,mBAAjB,CA8BA,GAAMC,CAAAA,SAAS,CAAGN,MAAM,CAACK,GAAV,oBAAf,CASA,GAAME,CAAAA,cAAc,CAAGP,MAAM,CAACK,GAAV,oBAChB,SAAAG,KAAK,QACLA,CAAAA,KAAK,CAACC,OAAN,CACIR,GADJ,qBAIIA,GAJJ,oBADK,EADW,CAApB,CAWA,QAASS,CAAAA,eAAT,MAAoC,IAATC,CAAAA,KAAS,MAATA,KAAS,eACRnB,QAAQ,CAAC,IAAD,CADA,wCAC3BoB,KAD2B,eACpBC,QADoB,eAElC,GAAMC,CAAAA,OAAO,CAAGf,UAAU,EAA1B,CACA,GAAMgB,CAAAA,GAAG,CAAGJ,KAAK,CAACK,MAAN,CAAaD,GAAzB,CAEA,GAAI,CAACA,GAAL,CAAU,CACR;AACAD,OAAO,CAACG,IAAR,CAAa,GAAb,EACD,CAED,GAAMC,CAAAA,SAAS,CAAG,mBAAqBH,GAArB,CAA2B,aAA7C,CACA,GAAMI,CAAAA,SAAS,CAAG,oBAAsBJ,GAAtB,CAA4B,aAA9C,CAEA,GAAMK,CAAAA,SAAS,CAAG3B,UAAU,CAACC,MAAD,CAA5B,CACA,GAAM2B,CAAAA,OAAO,CAAGD,SAAS,EAAzB,CAEA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,CAAC,CAAI,CACzBV,QAAQ,CAAC,CAACD,KAAF,CAAR,CACD,CAFD,CAIA,mBACE,2BAAK,SAAS,CAAES,OAAO,CAACG,OAAxB,eACE,oBAAC,gBAAD,MADF,cAEE,2BAAK,SAAS,CAAEH,OAAO,CAACnB,SAAxB,CAAmC,GAAG,CAAEA,SAAxC,eACE,oBAAC,eAAD,MADF,cAEE,2BAAK,SAAS,CAAEmB,OAAO,CAACI,OAAxB,eACE,oBAAC,QAAD,EAAU,UAAU,CAAC,WAArB,CAAiC,UAAU,CAAC,YAA5C,EADF,cAEE,oBAAC,cAAD,EAAgB,OAAO,CAAEb,KAAzB,eACE,oBAAC,WAAD,EAAa,OAAO,CAAEU,aAAtB,eACE,oBAAC,SAAD,kCADF,CADF,cAIE,oBAAC,YAAD,EAAc,SAAS,CAAEJ,SAAzB,EAJF,CAFF,cAQE,oBAAC,cAAD,EAAgB,OAAO,CAAE,CAACN,KAA1B,eACE,oBAAC,WAAD,EAAa,OAAO,CAAEU,aAAtB,eACE,oBAAC,SAAD,kCADF,CADF,cAIE,oBAAC,YAAD,EAAc,SAAS,CAAEH,SAAzB,EAJF,CARF,CAFF,CAFF,CADF,CAuBD,CAED,cAAeT,CAAAA,eAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport styles from \"../assets/jss/material-dashboard-react/layouts/adminStyle.js\";\nimport SidebarContainer from \"./SidebarContainer.js\";\nimport NavbarContainer from \"./NavbarContainer.js\";\nimport StreamPlayer from \"../components/Stream/StreamPlayer.js\";\nimport KakaoMap from \"../components/KakaoMap/KakaoMap.js\";\nimport { useHistory } from \"react-router-dom\";\nimport styled, { css } from \"styled-components\";\nconst mainPanel = React.createRef();\n\nconst VideoButton = styled.div`\n  height: 2rem;\n  cursor: pointer;\n  color: #fff;\n  text-align: center;\n  width: auto;\n  margin: 10px 15px 0;\n  display: block;\n  padding: 10px 15px;\n  position: relative;\n  transition: all 300ms linear;\n  font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\n  font-weight: 300;\n  line-height: 1.5em;\n  border-radius: 3px;\n  background-color: #f44336;\n  box-shadow: 0 12px 20px -10px rgba(244, 67, 54, 0.28),\n    0 4px 20px 0 rgba(244, 67, 54, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2);\n  &:hover {\n    box-shadow: 0 12px 20px -10px rgba(244, 67, 54, 0.28),\n      0 4px 20px 0 rgba(244, 67, 54, 0.12),\n      0 7px 8px -5px rgba(244, 67, 54, 0.2);\n  }\n  &:focus {\n    box-shadow: 0 12px 20px -10px rgba(244, 67, 54, 0.28),\n      0 4px 20px 0 rgba(244, 67, 54, 0.12),\n      0 7px 8px -5px rgba(244, 67, 54, 0.2);\n  }\n`;\n\nconst VideoText = styled.div`\n  color: #fff;\n  margin: 0;\n  font-size: 24px;\n  font-family: \"Roboto\", \"Helvetica\", \"Arial\", sans-serif;\n  font-weight: 500;\n  line-height: 30px;\n`;\n\nconst VideoContainer = styled.div`\n  ${props =>\n    props.visible\n      ? css`\n          display: inline;\n        `\n      : css`\n          display: none;\n        `};\n`;\n\nfunction StreamContainer({ match }) {\n  const [isTic, setIsTic] = useState(true);\n  const history = useHistory();\n  const key = match.params.key;\n\n  if (!key) {\n    // 통신 안되면 뒤로 가기\n    history.push(\"/\");\n  }\n\n  const ticStream = \"/api/stream/tic/\" + key + \"/index.m3u8\";\n  const hlsStream = \"/api/stream/live/\" + key + \"/index.m3u8\";\n\n  const useStyles = makeStyles(styles);\n  const classes = useStyles();\n\n  const onChangeSteam = e => {\n    setIsTic(!isTic);\n  };\n\n  return (\n    <div className={classes.wrapper}>\n      <SidebarContainer></SidebarContainer>\n      <div className={classes.mainPanel} ref={mainPanel}>\n        <NavbarContainer />\n        <div className={classes.content}>\n          <KakaoMap cordinateX=\"37.504234\" cordinateY=\"127.047812\"></KakaoMap>\n          <VideoContainer visible={isTic}>\n            <VideoButton onClick={onChangeSteam}>\n              <VideoText>영상 변경</VideoText>\n            </VideoButton>\n            <StreamPlayer streamUrl={ticStream}></StreamPlayer>\n          </VideoContainer>\n          <VideoContainer visible={!isTic}>\n            <VideoButton onClick={onChangeSteam}>\n              <VideoText>영상 변경</VideoText>\n            </VideoButton>\n            <StreamPlayer streamUrl={hlsStream}></StreamPlayer>\n          </VideoContainer>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default StreamContainer;\n"]},"metadata":{},"sourceType":"module"}